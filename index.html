<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Login Firebase GitHub</title>
  <link rel="stylesheet" href="estilos.css"> <!-- Seu CSS aqui -->
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-firestore.js"></script>
</head>
<body>

  <div class="container" id="container">
    <div class="form-container sign-up">
      <form class="formLogin">
        <h1>Criar Conta</h1>
        <div class="social-icons">
          <a href="#" class="icon" id="githubLogin"><i class="fa-brands fa-github"></i></a>
        </div>
        <span>Usando Email</span>
        <input type="text" id="nome" name="nome" placeholder="Nome completo">
        <input type="email" id="email" name="email" placeholder="Email">
        <input type="password" id="senha" name="senha" placeholder="Senha">
        <button type="submit" class="Criar">Criar</button>
      </form>
    </div>

    <div class="form-container sign-in">
      <form id="loginForm">
        <h1>Entrar</h1>
        <div class="social-icons">
          <a href="#" class="icon"><i class="fa-brands fa-google-plus-g"></i></a>
        </div>
        <span>Senha Email</span>
        <input type="email" id="emailLogin" placeholder="Email">
        <input type="password" id="passwordLogin" placeholder="Password">
        <a href="recuperarsenha.html">Esqueceu sua senha?</a>
        <button type="submit" class="Entrar">Entrar</button>
      </form>
    </div>

    <div class="toggle-container">
      <div class="toggle">
        <div class="toggle-panel toggle-left">
          <h1>Bem vindo de Volta!</h1>
          <p>Entrar com a sua conta</p>
          <button class="hidden" id="login">Entrar</button>
        </div>
        <div class="toggle-panel toggle-right">
          <h1>Olá, Amigo!</h1>
          <p>Clique aqui para registrar-se</p>
          <button class="hidden" id="register">Inscrever-se</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Configuração do Firebase
    const firebaseConfig = {
      apiKey: "AIzaSyATG5P2NvdecjCPO7gzFNGs6l7plDrxY04",
      authDomain: "sdel-16c6a.firebaseapp.com",
      projectId: "sdel-16c6a",
      storageBucket: "sdel-16c6a.firebasestorage.app",
      messagingSenderId: "676676370586",
      appId: "1:676676370586:web:444947d3dda78a80d9df23",
      measurementId: "G-FZWQ9FYZG5"
    };

    // Inicializar Firebase
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();

    // GitHub Login
    document.getElementById("githubLogin").addEventListener("click", (e) => {
      e.preventDefault();
      const provider = new firebase.auth.GithubAuthProvider();

      auth.signInWithPopup(provider)
        .then((result) => {
          const user = result.user;
          console.log("Usuário logado com GitHub:", user.displayName);

          // Salvar no Firestore
          db.collection("usuarios").doc(user.uid).set({
            nome: user.displayName,
            email: user.email,
            foto: user.photoURL,
            uid: user.uid
          });

          alert(`Bem-vindo, ${user.displayName}!`);
        })
        .catch((error) => {
          console.error("Erro no login com GitHub:", error);
          alert("Erro ao fazer login com GitHub.");
        });
    });
  </script>
</body>
</html>
