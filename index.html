<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>SDEL - P√°gina Inicial</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <svg width="0" height="0" style="position:absolute;z-index:-1;">
        <symbol id="icon-home" viewBox="0 0 20 20" fill="currentColor"><path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z" /></symbol>
        <symbol id="icon-flashcards" viewBox="0 0 20 20" fill="currentColor"><path d="M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z" /></symbol>
        <symbol id="icon-questions" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd" /></symbol>
        <symbol id="icon-simulados" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" /></symbol>
        <symbol id="icon-games" viewBox="0 0 20 20" fill="currentColor"><path d="M2 6a2 2 0 012-2h12a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zm4 3a1 1 0 100 2h2a1 1 0 100-2H6zm2-3a1 1 0 011 1v2a1 1 0 11-2 0V7a1 1 0 011-1zm5 3a1 1 0 100 2h2a1 1 0 100-2h-2z" /></symbol>
        <symbol id="icon-desempenho" viewBox="0 0 20 20" fill="currentColor"><path d="M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z" /></symbol>
        <symbol id="icon-ranking" viewBox="0 0 20 20" fill="currentColor"><path d="M5.5 16a3.5 3.5 0 01-3.5-3.5V2.5a1 1 0 011-1h1a1 1 0 011 1v10a1.5 1.5 0 001.5 1.5h1.5a1 1 0 011 1v1a1 1 0 01-1 1H5.5zM15.5 16a1 1 0 01-1-1v-4a1 1 0 011-1h1a1 1 0 011 1v4a1 1 0 01-1 1h-1zM10.5 16a1 1 0 01-1-1V7a1 1 0 011-1h1a1 1 0 011 1v8a1 1 0 01-1 1h-1z"/></symbol>
        <symbol id="icon-calendario" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd" /></symbol>
        <symbol id="icon-perfil" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd" /></symbol>
        <symbol id="icon-config" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.532 1.532 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.532 1.532 0 01-.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd" /></symbol>
        <symbol id="icon-trophy-hero" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 8V2M15.5 5.5L20 1M8.5 5.5L4 1"/><path d="M12 22a7 7 0 007-7h-4a3 3 0 01-3 3v4z"/><path d="M12 22a7 7 0 01-7-7h4a3 3 0 003 3v4z"/></symbol>
        <symbol id="icon-star-hero" viewBox="0 0 20 20" fill="currentColor"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></symbol>
        <symbol id="icon-lightning" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z" clip-rule="evenodd" /></symbol>
        <symbol id="icon-chevron-left" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" /></symbol>
        <symbol id="icon-chevron-right" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" /></symbol>
    </svg>

    <aside class="sidebar">
        <div>
            <div class="sidebar-header"><h1>Painel</h1></div>
            <div class="theme-switcher">
                <span>Tema</span>
                <label class="toggle-switch">
                    <input type="checkbox" id="theme-toggle-checkbox">
                    <span class="slider"></span>
                </label>
            </div>
            <ul class="sidebar-nav">
                <li class="nav-item active"><a href="#"><svg><use href="#icon-home"></use></svg> In√≠cio</a></li>
                <li class="nav-item"><a href="flashcards01.html"><svg><use href="#icon-flashcards"></use></svg> Flashcards</a></li>
                <li class="nav-item"><a href="#"><svg><use href="#icon-questions"></use></svg> Quest√µes</a></li>
                <li class="nav-item"><a href="simulado.html"><svg><use href="#icon-simulados"></use></svg> Simulados</a></li>
                <li class="nav-item"><a href="#"><svg><use href="#icon-games"></use></svg> Jogos</a></li>
                <li class="nav-item"><a href="analise_resultado.html"><svg><use href="#icon-desempenho"></use></svg> Desempenho</a></li>
                <li class="nav-item"><a href="#"><svg><use href="#icon-ranking"></use></svg> Ranking</a></li>
                <li class="nav-item"><a href="cronograma.html"><svg><use href="#icon-calendario"></use></svg> Calend√°rio</a></li>
            </ul>
        </div>
        <div>
            <br><br><br><br><br><br>
            <ul class="sidebar-nav" style="flex-grow:0;">
                <li class="separator"></li>
                <li class="nav-item"><a href="perfil.html"><svg><use href="#icon-perfil"></use></svg> Perfil</a></li>
                <li class="nav-item"><a href="#"><svg><use href="#icon-config"></use></svg> Configura√ß√µes</a></li>
            </ul>
            
            </div>
        </div>
    </aside>

    <div class="grate">

        <header>
            <div class="logo1">
               <img src="https://cdn-icons-png.flaticon.com/512/1356/1356604.png" width="70" height="70">
               <a class="SDEL">SDEL</a>
            </div>
            <div class="header-right">
               <p class="Facilite">Facilite seu estudo</p>
                <button class="APP-SDEL">
                    <div class="menu">
                        <a href="https://play.google.com/store/apps/details?id=com.supercell.clashroyale&hl=pt_BR">APP SDEL</a>
                    </div>    
                </button>
                <a href="login.html">
                    <button class="login-btn">LOGIN</button>
                </a>
                <div class="menu-container">
                  <img src="https://cdn-icons-png.flaticon.com/512/3736/3736502.png" 
                  class="menu-image" 
                  id="profileImage" 
                  alt="Perfil" 
                  width="30" 
                  height="30">
                    <div class="perfil-options" id="perfilOptions">
                      <a href="perfil.html">Perfil</a>
                      <a href="login.html">Sair</a>
                    </div>
                </div>
            </div>
        </header>

        <div class="subheader-right">
      
        </div>
      
        <div class="centralizador">
            <div class="retangulo">
                <div class="conteudo">
                    <div class="texto">
                        <h1>Decole nos estudos</h1>
                        <p>Estude com confian√ßa com os nossos temas e decole nos estudos!</p>
                    </div>
                    <img class="imagem" src="https://cdn-icons-png.flaticon.com/512/12535/12535010.png" alt="Imagem principal">
                </div>
            </div>
        </div>
        
        <br>
        <br>
        <div class="titulo">
            <h1>Estude conosco</h1>
        </div>

        <div class="carrossel-wrapper">
            <img src="https://cdn-icons-png.flaticon.com/512/159/159605.png" class="seta seta-esquerda" onclick="rolar(-1)" alt="Seta Esquerda">
            <img src="https://cdn-icons-png.flaticon.com/512/159/159606.png" class="seta seta-direita" onclick="rolar(1)" alt="Seta Direita">
              
            <div class="carrossel-container" id="carrossel">
                <div class="card">
                    <a href="math.html"><img src="https://cdn-icons-png.flaticon.com/512/3965/3965108.png" alt="Matem√°tica"></a>
                    <p>Matem√°tica</p>
                </div>
                <div class="card">
                    <a href="geografia.html"><img src="https://cdn-icons-png.flaticon.com/512/8327/8327668.png" alt="Geografia"></a>
                    <p>Geografia</p>
                </div>
                <div class="card">
                    <img src="https://cdn-icons-png.flaticon.com/512/1183/1183815.png" alt="Hist√≥ria">
                    <p>Hist√≥ria</p>
                </div>
                <div class="card">
                    <img src=https://cdn-icons-png.flaticon.com/512/5833/5833290.png alt="Portugu√™s">
                    <p>Portugu√™s</p>
                </div>
                <div class="card">
                    <img src="https://cdn-icons-png.flaticon.com/128/8986/8986389.png" alt="Qu√≠mica">
                    <p>Qu√≠mica</p>
                </div>
                <div class="card">
                    <img src="https://cdn-icons-png.flaticon.com/512/1651/1651656.png" alt="Sociologia">
                    <p>Sociologia</p>
                </div>
                <div class="card">
                    <img src="https://cdn-icons-png.flaticon.com/512/1172/1172835.png" alt="filosofia">
                    <p>Filosofia</p>
                </div>
            </div>
        </div>
      
        <div class="titulo2">
            <h1>Ferramentas</h1>
            <br>
            <br>
        </div>
           
        <div class="ferramentas">
            <div class="bloco-questoes">
                <h2>Quest√µes</h2>
                <a href="simulado.html">
                    <img src="https://cdn-icons-png.flaticon.com/512/987/987818.png" alt="Imagem de Quest√µes">
                </a>
            </div>
            <div class="bloco-flashcards">
                <h2>Flashcards</h2>
                <a href="flashcards01.html">
                    <img src="https://cdn-icons-png.flaticon.com/512/667/667828.png" alt="Imagem Flashcards">
                </a>
            </div>
            <div class="bloco-cronograma">
                <h2>Cronograma</h2>
                <a href="cronograma.html">
                    <img src="https://cdn-icons-png.flaticon.com/512/5214/5214181.png" alt="Imagem Cronograma">
                </a>
            </div>
            <div class="bloco-analise-resultado">
                <h2>Analise de resultado</h2>
                <a href="analise_resultado.html">
                    <img src="https://cdn-icons-png.flaticon.com/512/8163/8163391.png" alt="Imagem Flashcards">
                </a>
            </div>
            <div class="redacao">
                <h2>Reda√ß√£o</h2>
                <a href="redacao.html">
                    <img src="https://cdn-icons-png.flaticon.com/512/4698/4698171.png" alt="Imagem Flashcards">
                </a>
            </div>
        </div>
      
        <br>
        
        <div class="pagina-enem">
            <div class="Vestibular-enem">
                <h1>Vestibular & Enem</h1>
            </div>
            <br>
            <div class="secao-enem">
                <div class="cartao-enem" onclick="abrirVideo('https://www.youtube.com/watch?v=7PrRzxNwEC4')">
                    <div class="imagem-enem">
                        <img src="https://img.youtube.com/vi/7PrRzxNwEC4/hqdefault.jpg" alt="Thumbnail do v√≠deo">
                    </div>
                    <div class="info-enem">
                        <h3>Enem+</h3>
                        <p>Colocamos em pauta os assuntos mais abordados em matem√°tica no Enem e al√©m disso damos dicas e macetes.</p>
                    </div>
                </div>
                <div class="cartao-enem" onclick="abrirVideo('temas_redacao.html')">
                    <div class="imagem-enem">
                        <img src="https://www.bernoulli.com.br/app/uploads/2024/10/AnyConv.com__shutterstock_1203448918-1080x720.webp" alt="Thumbnail">
                    </div>
                    <div class="info-enem">
                        <h3>Reda√ß√£o Enem</h3>
                        <p>Temas em alta que podem cair na reda√ß√£o do Enem. Cont√©m explica√ß√£o detalhada.</p>
                    </div>
                </div>
            </div>
        </div>

        <script>
            function abrirVideo(url) {
                window.open(url, '_blank');
            }
        </script>

        <br>
        <br>
        <br>
        <br>
        <br>

        <footer>
            <div class="footer-wrapper">
                <div class="footer-column">
                    <h4>Sobre o site</h4>
                    <p>
                        Portal com conte√∫dos educativos gratuitos para estudantes do ensino m√©dio, ENEM e vestibulares. Nosso objetivo √© democratizar o conhecimento com qualidade e confian√ßa.
                    </p>
                </div>
                <div class="footer-column">
                    <h4>Links importantes</h4>
                    <a href="#">In√≠cio</a>
                    <a href="#">Contato</a>
                </div>
                <div class="footer-column">
                    <h4>Redes Sociais</h4>
                    <div class="social-icons">
                        <a href="https://www.instagram.com/sdel_2k/" target="_blank" aria-label="Instagram">
                            <img src="https://cdn-icons-png.flaticon.com/512/2111/2111463.png" alt="Instagram" />
                        </a>
                        <a href="https://www.youtube.com/@SDEL-k8n" target="_blank" aria-label="YouTube">
                            <img src="https://cdn-icons-png.flaticon.com/512/1384/1384060.png" alt="YouTube" />
                        </a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                &copy; SDEL. Todos os direitos reservados.
            </div>
        </footer>

    </div> <div id="botaoPainel" title="Abrir Painel">üõ†Ô∏è</div>

    <div id="painel">
      <div id="cabecalhoPainel">Painel R√°pido</div>
      <button class="botaoSecao" onclick="alternarSecao('blocoNotas')">üìò Bloco de Notas</button>
      <div id="blocoNotas" class="secaoPainel">
        <label for="textareaNotas">Suas Anota√ß√µes:</label>
        <textarea id="textareaNotas" placeholder="Digite suas anota√ß√µes..."></textarea>
      </div>
      <button class="botaoSecao" onclick="alternarSecao('containerCronometro')">‚è±Ô∏è Cron√¥metro</button>
      <div id="containerCronometro" class="secaoPainel">
        <div id="cronometro">00:00:00</div>
        <div id="botoesCronometro">
          <button onclick="iniciarCronometro()">Iniciar</button>
          <button onclick="pararCronometro()">Parar</button>
          <button onclick="resetarCronometro()">Resetar</button>
        </div>
      </div>
    </div>
    
    <script type="module">
      // Importa√ß√µes Firebase
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-app.js";
      import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-analytics.js";
      import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-auth.js";
      import { getFirestore, doc, getDoc, setDoc } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-firestore.js";

      // Configura√ß√£o Firebase
      const firebaseConfig = {
        apiKey: "AIzaSyCj8i37JYNigvbhXfqP4HVzjAEOzcXf_i0",
        authDomain: "sdel-b3f65.firebaseapp.com",
        projectId: "sdel-b3f65",
        storageBucket: "sdel-b3f65.appspot.com",
        messagingSenderId: "297725999985",
        appId: "1:297725999985:web:d41da68311c190ef8a54d0",
        measurementId: "G-PT92VECJ2H"
      };

      const app = initializeApp(firebaseConfig);
      const analytics = getAnalytics(app);
      const auth = getAuth(app);
      const db = getFirestore(app);

      // Elementos
      const painel = document.getElementById("painel");
      const cabecalho = document.getElementById("cabecalhoPainel");
      const textareaNotas = document.getElementById("textareaNotas");
      const cronometroEl = document.getElementById("cronometro");
      const profileImg = document.getElementById("profileImage");
      const perfilOptions = document.getElementById("perfilOptions");
      const botaoPainel = document.getElementById("botaoPainel");
      // ELEMENTOS PARA MODO ESCURO
      const themeToggleCheckbox = document.getElementById("theme-toggle-checkbox"); // NOVO
      const body = document.body;


      // Vari√°veis de controle
      let usuarioAtual = null;
      let segundos = 0, minutos = 0, horas = 0;
      let intervaloCronometro = null;
      const localStorageKey = 'sdel-theme'; // Chave de armazenamento para o tema

      // ---------- Theme Toggle Logic (Adaptado para o novo Switch da Sidebar) ----------
      // Aplica o tema salvo no localStorage ou o tema claro por padr√£o
      function loadTheme() {
        const savedTheme = localStorage.getItem(localStorageKey) || 'light';
        if (savedTheme === 'dark') {
          body.classList.add('dark');
          if (themeToggleCheckbox) themeToggleCheckbox.checked = true; // Marca o switch da sidebar
        } else {
          body.classList.remove('dark');
          if (themeToggleCheckbox) themeToggleCheckbox.checked = false;
        }
      }

      // Alterna o tema e salva a prefer√™ncia
      function toggleTheme() {
        body.classList.toggle('dark');
        const newTheme = body.classList.contains('dark') ? 'dark' : 'light';
        localStorage.setItem(localStorageKey, newTheme);
      }

      // Event Listener para o bot√£o de tema
      if (themeToggleCheckbox) {
          themeToggleCheckbox.addEventListener('change', toggleTheme);
      }

      // Carrega o tema ao iniciar o script
      loadTheme();

      // ---------- Firebase: Login ----------
      onAuthStateChanged(auth, async (user) => {
        if (user) {
          usuarioAtual = user;
          await carregarNotas();
          if (user.photoURL && profileImg) profileImg.src = user.photoURL;
        } else {
          usuarioAtual = null;
          textareaNotas.value = "Fa√ßa login para salvar suas anota√ß√µes.";
          cronometroEl.innerText = "00:00:00";
          if (profileImg) profileImg.src = "https://cdn-icons-png.flaticon.com/512/3736/3736502.png"; // Usando a imagem padr√£o do menu
        }
      });

      // ---------- Salvar notas ----------
      function salvarNotas(texto) {
        if (!usuarioAtual) return;
        const docRef = doc(db, "notasUsuario", usuarioAtual.uid);
        setDoc(docRef, { texto }, { merge: true });
      }

      // ---------- Salvar tempo ----------
      function salvarTempoCronometro() {
        if (!usuarioAtual) return;
        const tempoAtual = cronometroEl.innerText;
        const docRef = doc(db, "notasUsuario", usuarioAtual.uid);
        setDoc(docRef, { tempo: tempoAtual }, { merge: true });
      }

      // ---------- Carregar dados ----------
      async function carregarNotas() {
        const docRef = doc(db, "notasUsuario", usuarioAtual.uid);
        const docSnap = await getDoc(docRef);
        if (docSnap.exists()) {
          const data = docSnap.data();
          textareaNotas.value = data.texto || "";
          if (data.tempo) {
            cronometroEl.innerText = data.tempo;
            const [h, m, s] = data.tempo.split(":").map(Number);
            horas = h; minutos = m; segundos = s;
          }
        } else {
          textareaNotas.value = "";
          cronometroEl.innerText = "00:00:00";
        }
      }

      // ---------- Cron√¥metro ----------
      function atualizarCronometro() {
        segundos++;
        if (segundos >= 60) { segundos = 0; minutos++; }
        if (minutos >= 60) { minutos = 0; horas++; }
        const formatar = n => n.toString().padStart(2, '0');
        const tempo = `${formatar(horas)}:${formatar(minutos)}:${formatar(segundos)}`;
        cronometroEl.innerText = tempo;
        salvarTempoCronometro();
      }

      window.iniciarCronometro = () => {
        if (!intervaloCronometro) intervaloCronometro = setInterval(atualizarCronometro, 1000);
      };

      window.pararCronometro = () => {
        clearInterval(intervaloCronometro);
        intervaloCronometro = null;
      };

      window.resetarCronometro = () => {
        window.pararCronometro();
        segundos = minutos = horas = 0;
        cronometroEl.innerText = "00:00:00";
        salvarTempoCronometro();
      };

      // ---------- Eventos ----------
      textareaNotas.addEventListener("input", () => {
        salvarNotas(textareaNotas.value);
      });

      // ---------- Painel toggle ----------
      botaoPainel.onclick = () => {
        painel.style.display = painel.style.display === "block" ? "none" : "block";
      };

      // ---------- Alternar se√ß√µes ----------
      window.alternarSecao = function(id) {
        const secao = document.getElementById(id);
        if (secao) {
          secao.style.display = secao.style.display === "block" ? "none" : "block";
        }
      };

      // ---------- Mover painel ----------
      let posX = 0, posY = 0, posInicialX = 0, posInicialY = 0;

      cabecalho.onmousedown = dragMouseDown;

      function dragMouseDown(e) {
        e.preventDefault();
        posInicialX = e.clientX;
        posInicialY = e.clientY;
        document.onmouseup = fecharDrag;
        document.onmousemove = moverPainel;
      }

      function moverPainel(e) {
        e.preventDefault();
        const dx = e.clientX - posInicialX;
        const dy = e.clientY - posInicialY;
        posInicialX = e.clientX;
        posInicialY = e.clientY;
        const rect = painel.getBoundingClientRect();
        let novaTop = Math.max(0, Math.min(rect.top + dy, window.innerHeight - rect.height));
        let novaLeft = Math.max(0, Math.min(rect.left + dx, window.innerWidth - rect.width));
        painel.style.top = novaTop + "px";
        painel.style.left = novaLeft + "px";
        painel.style.right = "auto";
      }

      function fecharDrag() {
        document.onmouseup = null;
        document.onmousemove = null;
      }

      // ---------- Menu de perfil ----------
      if (profileImg && perfilOptions) {
        profileImg.addEventListener('click', (e) => {
          e.stopPropagation();
          perfilOptions.style.display = (perfilOptions.style.display === 'block') ? 'none' : 'block';
        });
        document.addEventListener('click', () => {
          perfilOptions.style.display = 'none';
        });
      }

      // ---------- Carrossel ----------
      window.rolar = function(direcao) {
        const carrossel = document.getElementById("carrossel");
        if (carrossel) carrossel.scrollLeft += direcao * 130;
      };
    </script>

</body>
</html>
