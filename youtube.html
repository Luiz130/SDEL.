<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>V√≠deos</title>
  <style>
    /* (Mantido todo o seu CSS, encurtado aqui por brevidade) */
    /* ... seu CSS permanece igual ... */
  </style>
</head>
<body>

<div class="container">
  <div class="header">
    <div class="header-icon">‚ñ∂</div>
    <h2>Disciplina</h2>
  </div>

  <!-- V√≠deos principais -->
  <div class="video-box">
    <a href="https://www.youtube.com/watch?v=F2y6cwqFhkE" target="_blank">
      <img src="https://img.youtube.com/vi/F2y6cwqFhkE/hqdefault.jpg" alt="V√≠deo YouTube">
    </a>
  </div>

  <div class="related">
    <p>Assista tamb√©m</p>
    <div class="related-thumbnails">
      <div class="thumbnail">
        <a href="https://www.youtube.com/watch?v=F2y6cwqFhkE" target="_blank">
          <img src="https://img.youtube.com/vi/F2y6cwqFhkE/default.jpg" alt="Miniatura">
        </a>
      </div>
      <!-- ... outras miniaturas ... -->
    </div>
  </div>
</div>

<!-- Bot√£o e painel -->
<div id="botaoPainel" title="Abrir Painel">üõ†</div>

<div id="painel">
  <div id="cabecalhoPainel">Painel R√°pido</div>

  <button class="botaoSecao" onclick="alternarSecao('blocoNotas')">üìò Bloco de Notas</button>
  <div id="blocoNotas" class="secaoPainel">
    <label for="textareaNotas">Suas Anota√ß√µes:</label>
    <textarea id="textareaNotas" placeholder="Digite suas anota√ß√µes..."></textarea>
  </div>

  <button class="botaoSecao" onclick="alternarSecao('containerCronometro')">‚è± Cron√¥metro</button>
  <div id="containerCronometro" class="secaoPainel">
    <div id="cronometro">00:00:00</div>
    <div id="botoesCronometro">
      <button onclick="iniciarCronometro()">Iniciar</button>
      <button onclick="pararCronometro()">Parar</button>
      <button onclick="resetarCronometro()">Resetar</button>
    </div>
  </div>
</div>

<!-- Firebase -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-analytics.js";
  import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-auth.js";
  import { getFirestore, doc, getDoc, setDoc } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyCj8i37JYNigvbhXfqP4HVzjAEOzcXf_i0",
    authDomain: "sdel-b3f65.firebaseapp.com",
    projectId: "sdel-b3f65",
    storageBucket: "sdel-b3f65.appspot.com",
    messagingSenderId: "297725999985",
    appId: "1:297725999985:web:d41da68311c190ef8a54d0",
    measurementId: "G-PT92VECJ2H"
  };

  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
  const auth = getAuth(app);
  const db = getFirestore(app);

  const textareaNotas = document.getElementById("textareaNotas");

  let usuarioAtual = null;

  // Salvar texto no Firestore
  function salvarNotas(texto) {
    if (!usuarioAtual) return;
    const uid = usuarioAtual.uid;
    const docRef = doc(db, "notas", uid);
    setDoc(docRef, { texto }, { merge: true });
  }

  // Carregar texto salvo
  async function carregarNotas() {
    if (!usuarioAtual) return;
    const uid = usuarioAtual.uid;
    const docRef = doc(db, "notas", uid);
    const docSnap = await getDoc(docRef);
    if (docSnap.exists()) {
      textareaNotas.value = docSnap.data().texto || "";
    }
  }

  // Salvar ao digitar (auto-save)
  textareaNotas.addEventListener("input", () => {
    salvarNotas(textareaNotas.value);
  });

  // Detectar login
  onAuthStateChanged(auth, user => {
    if (user) {
      usuarioAtual = user;
      carregarNotas();
    } else {
      usuarioAtual = null;
      textareaNotas.value = "Fa√ßa login para salvar suas anota√ß√µes.";
    }
  });
</script>

<!-- JS do painel e cron√¥metro -->
<script>
  // Alternar painel
  function alternarSecao(id) {
    const secao = document.getElementById(id);
    secao.style.display = (secao.style.display === "block") ? "none" : "block";
  }

  const botaoPainel = document.getElementById("botaoPainel");
  const painel = document.getElementById("painel");
  botaoPainel.onclick = () => {
    painel.style.display = painel.style.display === "block" ? "none" : "block";
  };

  // Cron√¥metro
  let segundos = 0, minutos = 0, horas = 0;
  let intervaloCronometro = null;

  function atualizarCronometro() {
    segundos++;
    if (segundos >= 60) { segundos = 0; minutos++; }
    if (minutos >= 60) { minutos = 0; horas++; }
    const formatar = n => n.toString().padStart(2, '0');
    document.getElementById("cronometro").innerText = `${formatar(horas)}:${formatar(minutos)}:${formatar(segundos)}`;
  }

  window.iniciarCronometro = () => {
    if (!intervaloCronometro) intervaloCronometro = setInterval(atualizarCronometro, 1000);
  };
  window.pararCronometro = () => {
    clearInterval(intervaloCronometro);
    intervaloCronometro = null;
  };
  window.resetarCronometro = () => {
    window.pararCronometro();
    segundos = minutos = horas = 0;
    document.getElementById("cronometro").innerText = "00:00:00";
  };

  // Mover painel
  let posX = 0, posY = 0, posInicialX = 0, posInicialY = 0;
  const cabecalho = document.getElementById("cabecalhoPainel");

  cabecalho.onmousedown = dragMouseDown;

  function dragMouseDown(e) {
    e.preventDefault();
    posInicialX = e.clientX;
    posInicialY = e.clientY;
    document.onmouseup = () => { document.onmousemove = null; };
    document.onmousemove = moverPainel;
  }

  function moverPainel(e) {
    e.preventDefault();
    const dx = e.clientX - posInicialX;
    const dy = e.clientY - posInicialY;
    posInicialX = e.clientX;
    posInicialY = e.clientY;

    const rect = painel.getBoundingClientRect();
    let novaTop = rect.top + dy;
    let novaLeft = rect.left + dx;
    novaTop = Math.max(0, Math.min(novaTop, window.innerHeight - rect.height));
    novaLeft = Math.max(0, Math.min(novaLeft, window.innerWidth - rect.width));
    painel.style.top = novaTop + "px";
    painel.style.left = novaLeft + "px";
    painel.style.right = "auto";
  }
</script>
</body>
</html>
