<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>V√≠deos</title>
  <style>
     body {
      font-family: sans-serif;
      background-color: #fafafa;
      padding: 40px;
    }

    .container {
      border: 1px solid #ccc;
      padding: 30px;
      max-width: 800px;
      margin: auto;
      background-color: white;
    }

    .header {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .header-icon {
      background-color: black;
      color: white;
      padding: 10px;
      border-radius: 6px;
      font-size: 20px;
    }

    .header h2 {
      margin: 0;
      font-size: 28px;
    }

    .video-box {
      background-color: #eee;
      height: auto;
      display: flex;
      justify-content: center;
      align-items: center;
      margin-top: 25px;
      border-radius: 6px;
      overflow: hidden;
    }

    .video-box img {
      width: 100%;
      max-width: 100%;
      border-radius: 6px;
      cursor: pointer;
      transition: transform 0.3s;
    }

    .video-box img:hover {
      transform: scale(1.02);
    }

    .related {
      margin-top: 30px;
    }

    .related p {
      margin-bottom: 15px;
      font-size: 18px;
    }

    .related-thumbnails {
      display: flex;
      gap: 20px;
    }

    .thumbnail {
      background-color: #eee;
      width: 100px;
      height: 70px;
      display: flex;
      justify-content: center;
      align-items: center;
      border-radius: 6px;
      overflow: hidden;
    }

    .thumbnail img {
      width: 100%;
      height: auto;
      cursor: pointer;
    }

       /* Bot√£o flutuante lateral */
    #botaoPainel {
      position: fixed;
      top: 50%;
      right: 0;
      transform: translateY(-50%);
      background-color: #2563eb;
      color: white;
      padding: 14px 18px;
      border-radius: 12px 0 0 12px;
      cursor: pointer;
      font-size: 24px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      z-index: 10000;
      transition: background 0.3s;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    #botaoPainel:hover {
      background-color: #1e40af;
    }

    #painel {
      position: fixed;
      top: 50%;
      right: 0;
      width: 340px;
      background: white;
      border-left: 4px solid #2563eb;
      border-radius: 16px 0 0 16px;
      padding: 16px 24px 24px 24px;
      box-shadow: -4px 0 16px rgba(0,0,0,0.1);
      display: none;
      z-index: 9999;
      cursor: default;
      user-select: none;
    }

    #cabecalhoPainel {
      cursor: grab;
      padding-bottom: 12px;
      border-bottom: 1px solid #e5e7eb;
      margin-bottom: 16px;
      font-weight: 700;
      font-size: 20px;
      color: #111827;
      user-select: none;
    }

    #cabecalhoPainel:active {
      cursor: grabbing;
    }

    .botaoSecao {
      width: 100%;
      padding: 12px;
      margin-bottom: 14px;
      background-color: #2563eb;
      color: white;
      border: none;
      border-radius: 10px;
      font-weight: 600;
      cursor: pointer;
      font-size: 15px;
      transition: background 0.3s, transform 0.2s;
    }

    .botaoSecao:hover {
      background-color: #1e3a8a;
      transform: scale(1.02);
    }

    .secaoPainel {
      display: none;
      margin-bottom: 24px;
    }

    #blocoNotas label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: #374151;
    }

    textarea {
      width: 100%;
      min-height: 120px;
      resize: vertical;
      padding: 14px 16px;
      font-size: 15px;
      border-radius: 10px;
      border: 1.5px solid #cbd5e1;
      box-shadow: inset 0 1px 4px rgba(0,0,0,0.08);
      outline-offset: 2px;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      color: #111827;
      box-sizing: border-box;
      transition: border-color 0.3s ease;
    }

    textarea:focus {
      border-color: #2563eb;
      box-shadow: 0 0 6px rgba(37, 99, 235, 0.5);
    }

    #cronometro {
      font-size: 28px;
      font-weight: bold;
      margin-bottom: 16px;
      text-align: center;
      color: #111827;
    }

    #botoesCronometro {
      display: flex;
      justify-content: space-around;
    }

    #botoesCronometro button {
      background: #4b5563;
      color: white;
      border: none;
      padding: 8px 14px;
      font-size: 14px;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.3s;
    }

  </style>
</head>
<body>

<div class="container">
  <div class="header">
    <div class="header-icon">‚ñ∂</div>
 
    <h2>Disciplina</h2>
  </div>

  <!-- V√≠deos principais -->
  <div class="video-box">
    <a href="https://www.youtube.com/watch?v=H5Rcxjn6rp0" target="_blank">
      <img src="https://img.youtube.com/vi/H5Rcxjn6rp0/maxresdefault.jpg" alt="V√≠deo YouTube">
    </a>
  </div>

  <div class="related">
    <p>Assista tamb√©m</p>
    <div class="related-thumbnails">
      <div class="thumbnail">
        <a href="https://www.youtube.com/watch?v=F2y6cwqFhkE" target="_blank">
          <img src="https://img.youtube.com/vi/F2y6cwqFhkE/default.jpg" alt="Miniatura">
        </a>
      </div>
      <!-- ... outras miniaturas ... -->
    </div>
  </div>
</div>

<!-- Bot√£o e painel -->
<div id="botaoPainel" title="Abrir Painel">üõ†</div>

<div id="painel">
  <div id="cabecalhoPainel">Painel R√°pido</div>

  <button class="botaoSecao" onclick="alternarSecao('blocoNotas')">üìò Bloco de Notas</button>
  <div id="blocoNotas" class="secaoPainel">
    <label for="textareaNotas">Suas Anota√ß√µes:</label>
    <textarea id="textareaNotas" placeholder="Digite suas anota√ß√µes..."></textarea>
  </div>

  <button class="botaoSecao" onclick="alternarSecao('containerCronometro')">‚è± Cron√¥metro</button>
  <div id="containerCronometro" class="secaoPainel">
    <div id="cronometro">00:00:00</div>
    <div id="botoesCronometro">
      <button onclick="iniciarCronometro()">Iniciar</button>
      <button onclick="pararCronometro()">Parar</button>
      <button onclick="resetarCronometro()">Resetar</button>
    </div>
  </div>
</div>

<!-- Firebase -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-analytics.js";
  import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-auth.js";
  import { getFirestore, doc, getDoc, setDoc } from "https://www.gstatic.com/firebasejs/10.6.0/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyCj8i37JYNigvbhXfqP4HVzjAEOzcXf_i0",
    authDomain: "sdel-b3f65.firebaseapp.com",
    projectId: "sdel-b3f65",
    storageBucket: "sdel-b3f65.appspot.com",
    messagingSenderId: "297725999985",
    appId: "1:297725999985:web:d41da68311c190ef8a54d0",
    measurementId: "G-PT92VECJ2H"
  };

  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
  const auth = getAuth(app);
  const db = getFirestore(app);

  const textareaNotas = document.getElementById("textareaNotas");

  let usuarioAtual = null;

// Salvar texto no Firestore
function salvarNotas(texto) {
  if (!usuarioAtual) return;
  const uid = usuarioAtual.uid;
  const docRef = doc(db, "notasUsuario", uid); // <--- cole√ß√£o atualizada
  setDoc(docRef, { texto }, { merge: true });
}

// Carregar texto salvo
async function carregarNotas() {
  if (!usuarioAtual) return;
  const uid = usuarioAtual.uid;
  const docRef = doc(db, "notasUsuario", uid); // <--- cole√ß√£o atualizada
  const docSnap = await getDoc(docRef);
  if (docSnap.exists()) {
    textareaNotas.value = docSnap.data().texto || "";
  }
}

  // Salvar ao digitar (auto-save)
  textareaNotas.addEventListener("input", () => {
    salvarNotas(textareaNotas.value);
  });

  // Detectar login
  onAuthStateChanged(auth, user => {
    if (user) {
      usuarioAtual = user;
      carregarNotas();
    } else {
      usuarioAtual = null;
      textareaNotas.value = "Fa√ßa login para salvar suas anota√ß√µes.";
    }
  });
</script>

<!-- JS do painel e cron√¥metro -->

<script>
  let cronometroInterval;
  let pausado = localStorage.getItem("cronometroPausado") === "true";
  let tempoTotalPausado = parseInt(localStorage.getItem("cronometroTempoPausado")) || 0;
  let inicio = parseInt(localStorage.getItem("cronometroInicio"));

  // Se n√£o tiver in√≠cio salvo, come√ßa agora
  if (!inicio) {
    inicio = Date.now();
    localStorage.setItem("cronometroInicio", inicio);
  }

  function atualizarCronometro() {
    const agora = Date.now();
    const tempoDecorrido = (agora - inicio) + tempoTotalPausado;

    const horas = Math.floor(tempoDecorrido / (1000 * 60 * 60));
    const minutos = Math.floor((tempoDecorrido % (1000 * 60 * 60)) / (1000 * 60));
    const segundos = Math.floor((tempoDecorrido % (1000 * 60)) / 1000);

    document.getElementById("cronometro").innerText =
      `${horas.toString().padStart(2, '0')}:` +
      `${minutos.toString().padStart(2, '0')}:` +
      `${segundos.toString().padStart(2, '0')}`;
  }

  function iniciarCronometro() {
    cronometroInterval = setInterval(atualizarCronometro, 1000);
  }

  function pausarCronometro() {
    clearInterval(cronometroInterval);
    const agora = Date.now();
    const tempoDecorrido = agora - inicio;
    tempoTotalPausado += tempoDecorrido;
    localStorage.setItem("cronometroTempoPausado", tempoTotalPausado);
    localStorage.setItem("cronometroPausado", "true");
    localStorage.removeItem("cronometroInicio");
  }

  function continuarCronometro() {
    inicio = Date.now();
    localStorage.setItem("cronometroInicio", inicio);
    localStorage.setItem("cronometroPausado", "false");
    iniciarCronometro();
  }

  // Eventos dos bot√µes
  document.getElementById("pausarBtn").addEventListener("click", () => {
    pausarCronometro();
  });

  document.getElementById("continuarBtn").addEventListener("click", () => {
    continuarCronometro();
  });

  // Inicia automaticamente se n√£o estiver pausado
  if (!pausado) {
    iniciarCronometro();
  } else {
    atualizarCronometro(); // Mostra tempo pausado
  }
</script>
</body>
</html>
