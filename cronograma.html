<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Cronograma de Estudos</title>
  <link rel="stylesheet" href="cronograma.css">

  <style>
    /* Estilos do painel flutuante (j√° inclu√≠dos) */
    #botaoPainel {
      position: fixed;
      top: 50%;
      right: 0;
      transform: translateY(-50%);
      background-color: #2563eb;
      color: white;
      padding: 14px 18px;
      border-radius: 12px 0 0 12px;
      cursor: pointer;
      font-size: 24px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      z-index: 10000;
    }

    #painel {
      position: fixed;
      top: 50%;
      right: 0;
      width: 340px;
      background: white;
      border-left: 4px solid #2563eb;
      border-radius: 16px 0 0 16px;
      padding: 16px 24px;
      display: none;
      transform: translateY(-50%);
      z-index: 9999;
    }

    #cabecalhoPainel {
      font-weight: bold;
      font-size: 20px;
      margin-bottom: 16px;
      cursor: grab;
    }

    .botaoSecao {
      width: 100%;
      padding: 12px;
      margin-bottom: 10px;
      background-color: #2563eb;
      color: white;
      border: none;
      border-radius: 10px;
      font-weight: 600;
      cursor: pointer;
      font-size: 15px;
    }

    .secaoPainel {
      display: none;
      margin-bottom: 24px;
    }

    textarea {
      width: 100%;
      min-height: 120px;
      padding: 14px;
      font-size: 15px;
      border-radius: 10px;
      border: 1.5px solid #cbd5e1;
    }

    #cronometro {
      font-size: 28px;
      font-weight: bold;
      text-align: center;
      margin-bottom: 16px;
    }

    #botoesCronometro {
      display: flex;
      justify-content: space-around;
    }

    #botoesCronometro button {
      padding: 8px 14px;
      font-size: 14px;
      border-radius: 8px;
      background-color: #4b5563;
      color: white;
      border: none;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>Cronograma Semanal de Estudos</h1>
  <div class="schedule-container">
    <div class="header">
      <div class="time-slot">Hor√°rio</div>
      <div class="day">Seg</div>
      <div class="day">Ter</div>
      <div class="day">Qua</div>
      <div class="day">Qui</div>
      <div class="day">Sex</div>
      <div class="day">S√°b</div>
      <div class="day">Dom</div>
    </div>
    <div id="schedule-grid" class="grid"></div>
  </div>

  <!-- Modal -->
  <div id="modal" class="modal">
    <div class="modal-content">
      <span id="close-modal" class="close">&times;</span>
      <h2>Editar Bloco de Estudo</h2>
      <label for="subject">Disciplina:</label>
      <select id="subject">
        <option value="matematica">Matem√°tica</option>
        <option value="portugues">Portugu√™s</option>
        <option value="historia">Hist√≥ria</option>
        <option value="biologia">Biologia</option>
        <option value="quimica">Qu√≠mica</option>
      </select>

      <label for="study-time">Tempo de Estudo (min):</label>
      <input type="number" id="study-time" min="0" placeholder="Ex: 60">

      <button id="save">Salvar</button>
      <button id="clear-cell" style="margin-top: 10px; background-color: #f87171;">Limpar Bloco</button>
      <button id="clear-all" style="margin-top: 10px; background-color: #ef4444;">Limpar Tudo</button>
    </div>
  </div>

  <!-- Bot√£o para abrir painel -->
  <div id="botaoPainel" title="Abrir Painel">üõ†Ô∏è</div>

  <!-- Painel flutuante -->
  <div id="painel">
    <div id="cabecalhoPainel">Painel R√°pido</div>

    <button class="botaoSecao" onclick="alternarSecao('blocoNotas')">üìò Bloco de Notas</button>
    <div id="blocoNotas" class="secaoPainel">
      <label for="textareaNotas">Suas Anota√ß√µes:</label>
      <textarea id="textareaNotas" placeholder="Digite suas anota√ß√µes..."></textarea>
    </div>

    <button class="botaoSecao" onclick="alternarSecao('containerCronometro')">‚è±Ô∏è Cron√¥metro</button>
    <div id="containerCronometro" class="secaoPainel">
      <div id="cronometro">00:00:00</div>
      <div id="botoesCronometro">
        <button onclick="iniciarCronometro()">Iniciar</button>
        <button onclick="pararCronometro()">Parar</button>
        <button onclick="resetarCronometro()">Resetar</button>
      </div>
    </div>
  </div>

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>

  <!-- Firebase Config -->
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyCj8i37JYNigvbhXfqP4HVzjAEOzcXf_i0",
      authDomain: "sdel-b3f65.firebaseapp.com",
      projectId: "sdel-b3f65",
      storageBucket: "sdel-b3f65.appspot.com",
      messagingSenderId: "297725999985",
      appId: "1:297725999985:web:d41da68311c190ef8a54d0",
      measurementId: "G-PT92VECJ2H"
    };
    firebase.initializeApp(firebaseConfig);
  </script>

  <!-- Scripts funcionais -->
  <script>
    // Alternar visibilidade do painel lateral
    const painel = document.getElementById('painel');
    const botaoPainel = document.getElementById('botaoPainel');

    botaoPainel.addEventListener('click', () => {
      painel.style.display = painel.style.display === 'none' || painel.style.display === '' ? 'block' : 'none';
    });

    function alternarSecao(id) {
      const secao = document.getElementById(id);
      secao.style.display = secao.style.display === 'block' ? 'none' : 'block';
    }

    // Cron√¥metro
    let segundos = 0, minutos = 0, horas = 0;
    let intervaloCronometro = null;

    function atualizarCronometro() {
      segundos++;
      if (segundos >= 60) { segundos = 0; minutos++; }
      if (minutos >= 60) { minutos = 0; horas++; }
      document.getElementById('cronometro').innerText =
        `${String(horas).padStart(2, '0')}:${String(minutos).padStart(2, '0')}:${String(segundos).padStart(2, '0')}`;
    }

    function iniciarCronometro() {
      if (!intervaloCronometro)
        intervaloCronometro = setInterval(atualizarCronometro, 1000);
    }

    function pararCronometro() {
      clearInterval(intervaloCronometro);
      intervaloCronometro = null;
    }

    function resetarCronometro() {
      clearInterval(intervaloCronometro);
      intervaloCronometro = null;
      segundos = 0; minutos = 0; horas = 0;
      document.getElementById('cronometro').innerText = "00:00:00";
    }
  </script>

  <!-- Script do cronograma (se houver l√≥gica adicional) -->
  <script src="cronograma.js"></script>
</body>
</html>
